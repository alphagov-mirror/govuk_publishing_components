<%
  shared_helper = GovukPublishingComponents::Presenters::SharedHelper.new(local_assigns)

  open ||= nil
  margin_bottom ||= 3
  css_classes = %w(gem-c-details govuk-details)
  css_classes << (shared_helper.get_margin_bottom)

  data_attributes ||= {}
  data_attributes[:module] = 'govuk-details'
%>
<%= tag.details class: css_classes, data: data_attributes, open: open do %>
  <summary class="govuk-details__summary" data-details-track-click>
    <span class="govuk-details__summary-text">
      <%= title %>
    </span>
  </summary>
  <div class="govuk-details__text">
    <%= yield %>
  </div>
<% end %>
